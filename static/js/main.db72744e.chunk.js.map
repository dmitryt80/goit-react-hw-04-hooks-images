{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","services/api.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/Main/Main.jsx","App.js","index.js"],"names":["module","exports","page","perPage","query","url","axios","get","then","response","status","data","hits","length","Searchbar","onSetQuery","useState","setQuery","className","s","container","form","onSubmit","e","preventDefault","val","trim","type","button","icon","style","width","height","fill","input","value","name","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","webformatURL","largeImageURL","tags","myRef","onClickImg","imageItem","ref","onClick","src","image","alt","ImageGallery","itemsImg","imageGallery","map","el","idx","arr","id","Button","onClickMore","blockMore","override","css","Loader","color","loading","size","root","document","querySelector","Modal","item","onCloseModal","onCloseKey","code","useEffect","window","addEventListener","removeEventListener","createPortal","overlay","currentTarget","modal","Main","useRef","currentPage","setCurrentPage","setItemsImg","isLastPage","setIsLastPage","isLoading","setIsLoading","searchQuery","setSearchQuery","itemLooking","setItemLooking","clearData","API","toast","warn","Math","trunc","totalHits","current","top","offsetTop","scrollTo","behavior","scrollToRef","catch","error","message","dataset","prevState","App","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.db72744e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Searchbar_container__5Fa4R\",\"form\":\"Searchbar_form__1wucm\",\"input\":\"Searchbar_input__1LOyE\",\"button\":\"Searchbar_button__3PfGV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"ImageGalleryItem_imageItem__1163K\",\"image\":\"ImageGalleryItem_image__3P9M6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__htfHU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__75cx7\",\"modal\":\"Modal_modal__vF36x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__WO4bO\"};","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"24796652-91261c2217f863e1b8ad91622\";\r\n\r\nconst getSearchImages = (page, perPage, query) => {\r\n  const url = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=${perPage}&key=${API_KEY}`;\r\n  return axios.get(url).then((response) => {\r\n    if (response.status === 200 && response.data.hits.length !== 0) {\r\n      return response.data;\r\n    } else {\r\n      return null;\r\n    }\r\n  });\r\n};\r\n\r\nexport default { getSearchImages };","import { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport ImageSearchIcon from '@mui/icons-material/ImageSearch'\r\nimport s from './Searchbar.module.css'\r\n\r\nfunction Searchbar({ onSetQuery }) {\r\n  const [query, setQuery] = useState('')\r\n  \r\n  // eslint-disable-next-line no-unused-vars\r\n  const onSubmitForm = (e) => {\r\n    e.preventDefault()\r\n    const val = query.trim()\r\n    if (val) {\r\n      onSetQuery(val)\r\n    }\r\n  }\r\n\r\n    return (\r\n      <header className={s.container}>\r\n        <form className={s.form} onSubmit={onSubmitForm}>\r\n          <button type=\"submit\" className={s.button}>\r\n            <ImageSearchIcon\r\n              className={s.icon}\r\n              style={{ width: '90%', height: '90%', fill: 'blue' }}\r\n            />\r\n          </button>\r\n\r\n          <input\r\n            className={s.input}\r\n            value={query}\r\n            type=\"text\"\r\n            name=\"search\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={(e) => {\r\n              setQuery(e.target.value)\r\n          }}\r\n          />\r\n        </form>\r\n      </header>\r\n    )\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSetQuery: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Searchbar","import PropTypes from 'prop-types'\r\nimport s from './ImageGalleryItem.module.css'\r\n\r\nfunction ImageGalleryItem({\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags,\r\n  myRef = null,\r\n  onClickImg,\r\n}) {\r\n  return (\r\n    <li\r\n      className={s.imageItem}\r\n      ref={myRef}\r\n      onClick={(e) => {\r\n        onClickImg(e.target)\r\n      }}\r\n    >\r\n      <img\r\n        src={webformatURL}\r\n        data-src={largeImageURL}\r\n        className={s.image}\r\n        alt={tags}\r\n      />\r\n    </li>\r\n  )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  onClickImg: PropTypes.func.isRequired,\r\n  myRef: PropTypes.object,\r\n}\r\n\r\nexport default ImageGalleryItem","import PropTypes from 'prop-types'\r\nimport s from './ImageGallery.module.css'\r\nimport ImageGalleryItem from '../ImageGalleryItem'\r\n\r\nexport default function ImageGallery({ itemsImg, myRef, onClickImg }) {\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      {itemsImg &&\r\n        itemsImg.map((el, idx, arr) => (\r\n          <ImageGalleryItem\r\n            key={el.id}\r\n            webformatURL={el.webformatURL}\r\n            largeImageURL={el.largeImageURL}\r\n            tags={el.tags}\r\n            myRef={idx === arr.length - 12 ? myRef : null}\r\n            onClickImg={onClickImg}\r\n          />\r\n        ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  itemsImg: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  myRef: PropTypes.object,\r\n  onClickImg: PropTypes.func.isRequired,\r\n}","import PropTypes from 'prop-types'\r\nimport s from './Button.module.css'\r\n\r\nfunction Button({ onClickMore }) {\r\n    return (\r\n        <div className={s.blockMore}>\r\n      <button type=\"button\" className={s.button} onClick={onClickMore}>\r\n        Load more...\r\n      </button>\r\n    </div>\r\n    )\r\n}\r\n\r\nButton.propTypes = {\r\nonClickMore: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Button","import { css } from '@emotion/react'\r\nimport CircleLoader from 'react-spinners/CircleLoader'\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 10px auto;\r\n`\r\n\r\nconst loading = true\r\n\r\nfunction Loader() {\r\n  return (\r\n    <CircleLoader\r\n      color=\"rgb(6, 255, 247)\"\r\n      loading={loading}\r\n      css={override}\r\n      size={50}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Loader","import { useEffect } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport PropTypes from 'prop-types'\r\nimport s from './Modal.module.css'\r\n\r\nconst root = document.querySelector('#root-modal')\r\n\r\nexport default function Modal({item, onCloseModal}) {\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const onCloseKey = (e) => {\r\n    if (e.code === 'Escape') {\r\n    onCloseModal()\r\n  }\r\n}\r\n\r\n    const onCloseBackdrop = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onCloseModal()\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', onCloseKey)\r\n    return () => {\r\n      window.removeEventListener('keydown', onCloseKey)\r\n    }\r\n  }, [onCloseKey])\r\n\r\n  const { src, tags } = item\r\n    return createPortal(\r\n      <div\r\n        className={s.overlay}\r\n        onClick={onCloseBackdrop}>\r\n        <div className={s.modal}>\r\n          <img src={src} alt={tags} />\r\n        </div>\r\n      </div>,\r\n      root,\r\n    )\r\n  }\r\n\r\nModal.propTypes = {\r\n  item: PropTypes.shape({\r\n    src: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }),\r\n  onCloseModal: PropTypes.func.isRequired,\r\n}","import { useState, useEffect,useRef } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport API from '../../services/api'\r\nimport Searchbar from '../Searchbar'\r\nimport ImageGallery from '../ImageGallery'\r\nimport Button from '../Button'\r\nimport Loader from '../Loader'\r\nimport Modal from '../Modal'\r\n\r\nexport default function Main() {\r\n  const myRef = useRef(null)\r\n  const [perPage] = useState(12)\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [itemsImg, setItemsImg] = useState([])\r\n  const [isLastPage, setIsLastPage] = useState(false)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [itemLooking, setItemLooking] = useState(null)\r\n\r\n  const clearData = () => {\r\n    setItemsImg([])\r\n    setCurrentPage(1)\r\n    setIsLastPage(true)\r\n    setIsLoading(false)\r\n  }\r\n\r\n  const scrollToRef = (ref) => {\r\n    const top = ref.current.offsetTop - 80\r\n    window.scrollTo({ top, behavior: 'smooth' })\r\n  }\r\n\r\n  const onChangeQuery = (val) => {\r\n    setItemsImg([])\r\n    setCurrentPage(1)\r\n    setSearchQuery(val)\r\n    setIsLoading('true')\r\n  }\r\n\r\n  const onClickMore = () => {\r\n    setCurrentPage((prevState) => prevState + 1)\r\n    setIsLoading(true)\r\n  }\r\n\r\n  const onClickImg = (el) => {\r\n    setItemLooking({ src: el.dataset.src, tags: el.alt })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (isLoading && searchQuery) {\r\n      API.getSearchImages(currentPage, perPage, searchQuery)\r\n        .then((data) => {\r\n          if (!data) {\r\n            clearData()\r\n            toast.warn('No such results!')\r\n            return\r\n          }\r\n\r\n          setIsLoading(false)\r\n          setItemsImg([...itemsImg, ...data.hits])\r\n          setIsLastPage(\r\n            currentPage + 1 >= Math.trunc(data.totalHits / perPage) + 1\r\n              ? true\r\n              : false,\r\n          )\r\n\r\n          if (myRef.current) {\r\n            scrollToRef(myRef)\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          clearData()\r\n          toast.error(error.message)\r\n        })\r\n    }\r\n  }, [isLoading, searchQuery, currentPage, perPage, itemsImg])\r\n\r\n  \r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSetQuery={onChangeQuery} />\r\n        <ImageGallery\r\n          itemsImg={itemsImg}\r\n          myRef={myRef}\r\n          onClickImg={onClickImg} />\r\n        {isLoading && <Loader />}\r\n        {searchQuery && !isLastPage && !isLoading && (\r\n          <Button onClickMore={onClickMore} />\r\n        )}\r\n        {itemLooking && (\r\n          <Modal item={itemLooking} onCloseModal={() =>\r\n          { setItemLooking(null) }} />\r\n        )}\r\n      </>\r\n    )\r\n  }\r\n","import { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Main from \"./components/Main\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n      <ToastContainer theme=\"dark\" />\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport \"modern-normalize/modern-normalize.css\";\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}